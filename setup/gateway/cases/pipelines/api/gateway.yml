env:
  GATEWAY_HOST: 127.0.0.1:8001
  GATEWAY_API_HOST: 127.0.0.1:9000
  ELASTICSEARCH_ENDPOINT: http://127.0.0.1:9200
path.data: data
path.logs: log
configs.auto_reload: true

api:
  enabled: true
  network:
    binding: $[[env.GATEWAY_API_HOST]]

entry:
  - name: my_es_entry
    enabled: true
    router: my_router
    max_concurrency: 2000
    network:
      binding: $[[env.GATEWAY_HOST]]

flow:
  - name: test
    filter:
      - sleep:
          sleep_in_million_seconds: 1024
      - echo:
          message: hello

metrics:
  enabled: true
  queue: metrics
  instance:
    enabled: true
  network:
    enabled: true
    summary: true

elasticsearch:
  - name: logserver
    enabled: true
    endpoints:
      - $[[env.ELASTICSEARCH_ENDPOINT]]

router:
  - name: my_router
    default_flow: test
